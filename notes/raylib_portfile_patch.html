<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <link rel="icon" type="image/png" href="/favicon.png">
    
      <title>Live copy of vcpkg patch for raylib - Martín's blog</title>
    

    <!--
      Included files have their own css, js files and will not be 
      appear here. 
    -->

    <!-- ====== CSS Files ====== -->
    <link rel="stylesheet" href="/css/site-top-bar.css">
    <link rel="stylesheet" href="/css/site-footer.css">
    <link rel="stylesheet" href="/css/site-menu.css">
    
    
    <link rel="stylesheet" href="/css/syntax.css">
    
    <link rel="stylesheet" href="/css/notes/note.css">
    
    
    <!-- ====== END CSS Files ====== -->

    <!-- ====== JS Files ====== -->
    <script type="text/javascript" src="/js/common.js"></script>
    <script type="text/javascript" src="/js/site-menu.js"></script>
    <script type="text/javascript" src="/js/site-top-bar.js"></script>

    
    
    <!-- ====== END JS Files ====== -->

    <!-- ====== Font Awesome ====== -->
    <script src="https://kit.fontawesome.com/0cfe53209a.js" crossorigin="anonymous">
    </script>
    <!-- ====== END Font Awesome ====== -->

    

    <!-- ====== SEO ====== -->
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Live copy of vcpkg patch for raylib | Martín’s blog</title>
<meta name="generator" content="Jekyll v4.2.1">
<meta property="og:title" content="Live copy of vcpkg patch for raylib">
<meta name="author" content="Martín E. Zahnd">
<meta property="og:locale" content="en_US">
<meta name="description" content="This file is a copy of the portfile.cmake file needed for patching vcpkg. For more information, see the main blog post If you just want to download the file, click here">
<meta property="og:description" content="This file is a copy of the portfile.cmake file needed for patching vcpkg. For more information, see the main blog post If you just want to download the file, click here">
<link rel="canonical" href="https://mzahnd.github.io/notes/raylib_portfile_patch.html">
<meta property="og:url" content="https://mzahnd.github.io/notes/raylib_portfile_patch.html">
<meta property="og:site_name" content="Martín’s blog">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2022-02-22T21:50:00-03:00">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Live copy of vcpkg patch for raylib">
<meta name="google-site-verification" content="CT3cmVw_OhpKeDjTSMDoO9zCxnArTWa8PcyuM0xfozs">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Martín E. Zahnd"},"dateModified":"2022-02-22T21:50:00-03:00","datePublished":"2022-02-22T21:50:00-03:00","description":"This file is a copy of the portfile.cmake file needed for patching vcpkg. For more information, see the main blog post If you just want to download the file, click here","headline":"Live copy of vcpkg patch for raylib","mainEntityOfPage":{"@type":"WebPage","@id":"https://mzahnd.github.io/notes/raylib_portfile_patch.html"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://mzahnd.github.io/assets/logo.png"},"name":"Martín E. Zahnd"},"url":"https://mzahnd.github.io/notes/raylib_portfile_patch.html"}</script>
<!-- End Jekyll SEO tag -->

    <!-- ====== End SEO ====== -->
  </head>
  <body>
    



<div class="site-menu--container" id="site-main-menu">

  <button aria-label="Close menu" title="Close menu" class="btn" id="btn-site-main-menu-close">
    <i class="fas fa-times"></i>
  </button>
  <div class="menu-content">
    <img src="/assets/logo.png" class="logo" alt="Martín's blog" loading="lazy">

    <div class="flex-separator"></div>

    <ul class="menu-list">
      
      <li>
        <a href="/" alt="Home" class="btn btn-link">
          Home
        </a>
      </li>
      
      <li>
        <a href="/blog" alt="Blog" class="btn btn-link">
          Blog
        </a>
      </li>
      
      <li>
        <a href="/notes" alt="Notes" class="btn btn-link">
          Notes
        </a>
      </li>
      
    </ul>

    <div class="flex-separator"></div>
    
    <ul class="menu-info-list">
      
      <li>
        <a href="/about.html" alt="About" class="btn btn-link">
          About
        </a>
      </li>
      
      <li>
        <a href="/contact.html" alt="Contact" class="btn btn-link">
          Contact
        </a>
      </li>
      
    </ul>

    <div class="flex-separator"></div>

    <div class="accessibility-opts">
      <p>Current font size: 
        <span id="accessibility-font-size-label">0 pt</span>
      </p>
      <ul>
        <li>
          <button aria-label="Restore font size" title="Restore font size" type="button" class="btn" id="accessibility-zoom-reset">
            <i class="fas fa-undo-alt"></i>
          </button>
        </li>
        <li>
          <button aria-label="Decrease font size" title="Decrease font size" type="button" class="btn" id="accessibility-zoom-m">
            <i class="fas fa-minus"></i>
          </button>
        </li>
        <li>
          <button aria-label="Increase font size" title="Increase font size" type="button" class="btn" id="accessibility-zoom-p">
            <i class="fas fa-plus"></i>
          </button>
        </li>
      </ul>
    </div>

    <div class="flex-separator"></div>
  </div>
</div>


    <div id="container-page">
        


<header class="site-top-bar">
  <div class="top-bar--container" id="top-bar">
    <button aria-label="Menu button" title="Menu button" type="button" class="top-bar-btn" id="btn-toggle-menu">
      <i class="fas fa-bars"></i>
    </button>
    <div class="top-bar-separator"></div>
    <div class="top-bar-logo">
        <a href="/" alt="Martín's blog">
          <h1>Martín's blog</h1>
          <img class="logo" src="/assets/logo.png" alt="Martín's blog" loading="eager">
        </a>
      </div>
    <div class="top-bar-separator"></div>
  </div>
</header>

        
          <div class="page-content">
        
            




<div class="note-content">
    




<header>
  <h1 id="post-title">Live copy of vcpkg patch for raylib</h1>
  <p id="post-author">Written by Martín E. Zahnd</p>

  <p id="post-date">Published: 2022-02-22 21:50</p>
  
  
  <p id="post-tags">Tags: 
      
          linux, 
      
          vcpkg, 
      
          vs, 
      
          code, 
      
          raylib, 
      
          ubuntu, 
      
          portfile
      
  </p>
  
  <br>

  <div class="post-excerpt">
      <p>This file is a copy of the <code>portfile.cmake</code> file needed for patching vcpkg.
For more information, see the
<a href="/blog/2022/02/22/vcpkg_raylib.html" title="Instación y configuración de vcpkg, raylib y Visual Studio Code en Linux" target="_blank">main blog post</a></p>

<p>If you just want to download the file, 
<a href="/assets/collections/posts/2022/02/22/portfile.cmake" title="portfile.cmake" target="_blank">click here</a></p>


  </div>
</header>








<article>
  <div class="post-content">
    

<div class="language-cmake highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-line-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
</pre></td>
<td class="rouge-code"><pre><span class="nb">message</span><span class="p">(</span><span class="s2">"

###################################
#  Patched by Martin E. Zahnd :)  #
###################################

Patch notes:
- Removed DBUILD_GAMES, DSHARED, DSTATIC deprecated options. Replaced by DBUILD_SHARED_LIBS
- Removed ENABLE_ASAN, ENABLE_UBASAN, ENABLE_MSAN options. Could not build with them.


"</span><span class="p">)</span>

<span class="nb">if</span><span class="p">(</span>VCPKG_TARGET_IS_OSX OR VCPKG_TARGET_IS_LINUX<span class="p">)</span>
    <span class="nb">message</span><span class="p">(</span>
    <span class="s2">"raylib currently requires the following libraries from the system package manager:
    libgl1-mesa-dev
    libx11-dev
    libxcursor-dev
    libxinerama-dev
    libxrandr-dev
These can be installed on Ubuntu systems via sudo apt install libgl1-mesa-dev libx11-dev libxcursor-dev libxinerama-dev libxrandr-dev"</span>
    <span class="p">)</span>
<span class="nb">endif</span><span class="p">()</span>

<span class="nf">vcpkg_from_github</span><span class="p">(</span>
    OUT_SOURCE_PATH SOURCE_PATH
    REPO raysan5/raylib
    REF 4.0.0
    SHA512 e9ffab14ab902e3327202e68ca139209ff24100dab62eb03fef50adf363f81e2705d81e709c58cf1514e68e6061c8963555bd2d00744daacc3eb693825fc3417
    HEAD_REF master
<span class="p">)</span>

<span class="nb">string</span><span class="p">(</span>COMPARE EQUAL <span class="s2">"</span><span class="si">${</span><span class="nv">VCPKG_LIBRARY_LINKAGE</span><span class="si">}</span><span class="s2">"</span> <span class="s2">"dynamic"</span> BUILD_USING_SHARED_LIBS<span class="p">)</span>

<span class="nf">vcpkg_check_features</span><span class="p">(</span>OUT_FEATURE_OPTIONS FEATURE_OPTIONS
    FEATURES
        hidpi SUPPORT_HIGH_DPI
        use-audio USE_AUDIO
<span class="p">)</span>

<span class="nf">vcpkg_cmake_configure</span><span class="p">(</span>
    SOURCE_PATH <span class="si">${</span><span class="nv">SOURCE_PATH</span><span class="si">}</span>
    PREFER_NINJA
    OPTIONS
        -DBUILD_EXAMPLES=OFF
        -DBUILD_SHARED_LIBS=<span class="si">${</span><span class="nv">BUILD_USING_SHARED_LIBS</span><span class="si">}</span>
        -DUSE_EXTERNAL_GLFW=OFF <span class="c1"># externl glfw3 causes build errors on Windows</span>
        <span class="si">${</span><span class="nv">FEATURE_OPTIONS</span><span class="si">}</span>
<span class="p">)</span>

<span class="nf">vcpkg_cmake_install</span><span class="p">()</span>

<span class="nf">vcpkg_copy_pdbs</span><span class="p">()</span>

<span class="nf">vcpkg_cmake_config_fixup</span><span class="p">(</span>CONFIG_PATH lib/cmake/<span class="si">${</span><span class="nv">PORT</span><span class="si">}</span><span class="p">)</span>
<span class="nf">vcpkg_fixup_pkgconfig</span><span class="p">()</span>

<span class="nb">file</span><span class="p">(</span>REMOVE_RECURSE
    <span class="si">${</span><span class="nv">CURRENT_PACKAGES_DIR</span><span class="si">}</span>/debug/include
    <span class="si">${</span><span class="nv">CURRENT_PACKAGES_DIR</span><span class="si">}</span>/debug/share
<span class="p">)</span>

<span class="nb">if</span><span class="p">(</span>VCPKG_LIBRARY_LINKAGE STREQUAL dynamic<span class="p">)</span>
    <span class="nf">vcpkg_replace_string</span><span class="p">(</span>
        <span class="si">${</span><span class="nv">CURRENT_PACKAGES_DIR</span><span class="si">}</span>/include/raylib.h
        <span class="s2">"defined(USE_LIBTYPE_SHARED)"</span>
        <span class="s2">"1 // defined(USE_LIBTYPE_SHARED)"</span>
    <span class="p">)</span>
<span class="nb">endif</span><span class="p">()</span>

<span class="nb">file</span><span class="p">(</span>INSTALL <span class="s2">"</span><span class="si">${</span><span class="nv">SOURCE_PATH</span><span class="si">}</span><span class="s2">/LICENSE"</span> DESTINATION <span class="s2">"</span><span class="si">${</span><span class="nv">CURRENT_PACKAGES_DIR</span><span class="si">}</span><span class="s2">/share/</span><span class="si">${</span><span class="nv">PORT</span><span class="si">}</span><span class="s2">"</span> RENAME copyright<span class="p">)</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>


  </div>
</article>
</div>
        </div>

        <div class="flex-separator"></div>
        


<footer class="site-footer">
  <div class="site-footer--container">
    <p>
      Created by Martín E. Zahnd 
      <i class="far fa-copyright"></i> 
      2023
    </p>
  </div>
</footer>
    </div>
  </body>
</html>
